<!DOCTYPE html>
<html lang="en">
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">




<title>Writing academic papers using Sublime Text 3 &#43; Pandoc | 不辍弦歌</title>

<link rel="stylesheet" href="https://ge-chunyu.github.io//css/styles.css">

<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.2.0/css/all.css" 
integrity="sha384-hWVjflwFxL6sNzntih27bfxkr27PmbbK/iSvJ+a4+0owXq79v+lsFkW54bOGbiDQ" crossorigin="anonymous">
<script src="https://code.jquery.com/jquery-3.3.1.js" integrity="sha256-2Kok7MbOyxpgUVvAk/HJ2jigOSYS2auK4Pfzbm7uH60=" crossorigin="anonymous"></script>


<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/zenburn.min.css" crossorigin="anonymous" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js" integrity="sha256-/BfiIkHlHoVihZdc6TFuj7MmJ0TWcWsMXkeDFwhi0zw=" crossorigin="anonymous"></script>
<script>hljs.initHighlightingOnLoad();</script>
<script src="https://ge-chunyu.github.io//js/highlight.js"></script>



<link type="text/css" rel="stylesheet" href="https://cdn.jsdelivr.net/jquery.jssocials/1.4.0/jssocials.css" />
<link type="text/css" rel="stylesheet" href="https://cdn.jsdelivr.net/jquery.jssocials/1.4.0/jssocials-theme-minima.css" />
<script type="text/javascript" src="https://ge-chunyu.github.io//js/jssocials.js"></script>




    .hasJax{
    font: inherit;
    font-size: 100%;
    background: inherit;
    border: inherit;
    /*color: #515151;*/
}

<div class="container">
    <nav class="navbar level">
      <div class="navbar-brand">
          <a class="nav-item" href="https://ge-chunyu.github.io/"><h1 class="title is-3">不辍弦歌</h1></a>
      </div>           
      <div class="navbar-menu has-text-centered is-active">
          <div class="navbar-end is-centered">
              
                <a href="https://ge-chunyu.github.io/about" rel="me">
                  <span class="icon">
                    <i class="fas fa-info"></i>
                  </span>
                </a>
              
                <a href="https://github.com/ge-chunyu/" rel="me">
                  <span class="icon">
                    <i class="fab fa-github"></i>
                  </span>
                </a>
              
                <a href="mailto:gechunyu92@hotmail.com" rel="me">
                  <span class="icon">
                    <i class="fas fa-envelope"></i>
                  </span>
                </a>
              
           </div>
      </div>
    </nav>
  </div>

<div class="container">
  <h2 class="subtitle is-6">October 11, 2019</h2>
  <h1 class="subtitle is-size-4-mobile is-size-3-desktop">Writing academic papers using Sublime Text 3 &#43; Pandoc</h1>
  <div class="content">
    

<p>This post explains how to write academic papers using <em>Sublime Text 3</em> in <em>markdown</em> format and transform the .md file into .docx and pdf files using <em>pandoc</em>.</p>

<h2 id="prerequisites">Prerequisites</h2>

<p>To write academic papers in <em>markdown</em> format requires a <strong>markdown editor</strong>, a <strong>format trnasformer</strong>, maybe also a <strong>literature manager</strong>. I use <em>Sublime Text 3</em> as the markdown edit, <em>Pandoc</em> as the format transformer, and <em>Zotero</em> as the literature manager. This section lists the things we need.</p>

<h3 id="sublime-text-3-and-plugins">Sublime Text 3 and plugins</h3>

<p><a href="https://www.sublimetext.com/3">Sublime Text 3</a> is a text editor that can be used for code, markup and prose. It is lightweight and is suitable for long texts. The followings are several plugins (or packages) we need:</p>

<ul>
<li><a href="http://ttscoff.github.io/MarkdownEditing/">MarkdownEditing</a>: writing markdown in Sublime Text 3;</li>
<li><a href="https://github.com/facelessuser/MarkdownPreview">MarkdownPreview</a>: previewing markdown in the browser;</li>
<li><a href="https://github.com/demon386/SmartMarkdown">SmartMarkdown</a>: folding and unfolding Headings;</li>
<li><a href="https://github.com/mangecoeur/Citer">Citer</a>: citing from a bibtex file;</li>
<li><a href="https://github.com/mangecoeur/AcademicMarkdown">AcademicMarkDown</a>: highlighting citations and CriticMarkup;</li>
<li><a href="https://github.com/titoBouzout/WordCount">WordCount</a>: counting words and characters;</li>
<li><a href="http://criticmarkup.com/">CriticMarkup</a>: highlighting revisions (e.g. add, delete, substitute, and comment).</li>
</ul>

<p>To install packages in Sublime Text 3, first install <em>Package Control</em> (go to Preferences -&gt; Install Package Control). Use <code>Ctrl+Shift+P</code> to activate the package control palatte, type <code>Install Packages</code>, select and then enter the names of whatever packages you want to install.</p>

<h3 id="pandoc">Pandoc</h3>

<p><a href="http://pandoc.org/">Pandoc</a> is a powerful tool for transforming file formats. Installing it on windows by downloading the .exe file or installing it in MacOS by simply typing <code>brew install pandoc</code> and  <code>brew install pandoc-cite-proc</code> in the Terminal (given that you have installed <a href="https://brew.sh/">HomeBrew</a>).</p>

<h2 id="usage">Usage</h2>

<p>This section explains how 1) to use Sublime Text 3 to complete tasks like adding citations, 2) to tranform .md files to .docx and pdf files.</p>

<h3 id="sublime-text-3-and-plugins-1">Sublime Text 3 and plugins</h3>

<p>It is common tasks to add citations, insert tables, and insert figures when writing academic papers. Sublime Text 3, along with various packages, provides us with powerful tools to compelete such tasks.</p>

<h4 id="adding-citations-use-citer">Adding citations use <em>Citer</em></h4>

<p>Once we have installed Citer via Package Control, we can modify the settings of Citer. Add the following lines into the user settings (Preferences -&gt; Package Settings -&gt; Citer -&gt; Citer Setting-User), and change the &ldquo;bibtex_file_path&rdquo; parameter according to the path of your bibtex files. Multiple bibtex files can be add to the <code>bibtex_file_path</code> separated by a comma and surrounded with brackets (<code>[]</code>).</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">{
    //REQUIRED:

    &#34;bibtex_file_path&#34;: &#34;your bibtex path&#34;,

    //OPTIONAL:
  
    //By default Citer Search looks for your keyword in the 
    //author, title, year, and Citekey (id) fields
    &#34;search_fields&#34;: [&#34;author&#34;, &#34;title&#34;, &#34;year&#34;, &#34;id&#34;] ,
    //Default format is @Citekey
    &#34;citation_format&#34;: &#34;@%s&#34;,
    //list of scopes. Could be top level &#34;text&#34; or &#34;source&#34;, or limit to
    // e.g &#34;text.html.markdown&#34;
    &#34;completions_scopes&#34;: [&#34;text&#34;],
    &#34;enable_completions&#34;: true
}</pre></div>
<p>Save the setting file. Type <code>Ctrl-Shift-P</code> and the Package Control palette pops up. Type <code>show all</code>, and select the command <code>Citer: Show all</code>, all the entries in the bibtex files should pop up. Select the entry you would like to cite, and press <code>Enter</code>. The entry appears in the file in this form <code>@author1990</code> (@authorYear).</p>

<h3 id="pandoc-1">Pandoc</h3>

<p>Use Pandoc is easy and to modify the templates is rather challenging, especially if you wish to modify the LaTeX template. It implies that you know fairly well about LaTeX. To make Pandoc compatible with Chinese characters is another challenging task. Pandoc is a command line tool, so make sure you enter all the commands in the terminal (or <code>cmd</code> in Windows)</p>

<h4 id="transformation-between-md-docx-and-pdf-files">Transformation between .md, .docx, and pdf files</h4>

<p>Transforming .md files into .docx and .pdf files is straightforward. Go to the path where your .md files are, and type in the following commands:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">cd path                              <span style="color:#75715e"># change directory to where your md files are</span>                  
pandoc file.md -o file.pdf           <span style="color:#75715e"># md -&gt; pdf</span>
pandoc file.md -o file.docx          <span style="color:#75715e"># md -&gt; docx</span></code></pre></div>
<h4 id="adding-references">Adding references</h4>

<p>Adding references to a markdown file is also straightforward, simply use the <code>pandoc-citeproc</code> program, and specify the path of the bibtex file:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#75715e"># md -&gt; pdf</span>
pandoc --filter pandoc-citeproc --bibliography<span style="color:#f92672">=</span>file.bib file.md -o file.pdf
<span style="color:#75715e"># md -&gt; docx</span>
pandoc --filter pandoc-citeproc --bibliography<span style="color:#f92672">=</span>file.bib file.md -o file.docx</code></pre></div>
<h4 id="using-templates">Using templates</h4>

<p>You can output .md files to .docx and pdf files with various formats by modifying the default templates (Please also refer to the [<em>Pandoc User&rsquo;s Guide</em>]()).</p>

<h5 id="modify-the-default-docx-template">Modify the default docx template</h5>

<p>To modify the default docx template, first print the default dicx template used by Pandoc with the following command:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">pandoc --print-default-data-file reference.docx &gt; custom-reference.docx </code></pre></div>
<p>To modify the default docx reference file, it does not work to simply change the style of the contents. Rather, define the styles you would love to use in the Style options provided by MS Word.</p>

<p>To use the sepcifies reference file:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">pandoc file.md -o file.docx --reference-doc<span style="color:#f92672">=</span>custom-reference.docx</code></pre></div>
<h5 id="modify-the-default-latex-template">Modify the default LaTeX template</h5>

<h4 id="make-pandoc-compatible-with-chinese-pandoc的中文输出">Make pandoc compatible with Chinese (Pandoc的中文输出)</h4>

<p>To make pandoc compatible with Chinese, we have to specify the pdf engine and the font (this is not required when transforming to .docx):</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">pandoc --pdf-engine<span style="color:#f92672">=</span>xelatex -V mainfont<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;SimSun&#34;</span> file.md -o file.pdf </code></pre></div>
<p>To use whatever font you like, type in the font name after <code>mainfont=</code>. To know what fonts you have in your laptop, type <code>fc-list :lang=zh</code> in Windows cmd, or look up in <em>Font Book</em> in MacOS.</p>

<p>There is another serious problem with Chinese pdf files created with pandoc. It cannot automatically change line. So a Chinese pdf file simply spans beyond the range of the current file. To overcome this problem, we need to modify the default LaTeX template.</p>

  </div>
</div>
<div class="container has-text-centered">
    
    <aside><div id="share"></div></aside>
    <script type="text/javascript">
        $("#share").jsSocials({
            showLabel: false,
            showCount: false,
            shares: ["email", "twitter", "facebook", "googleplus", "linkedin", "pinterest", "stumbleupon", "whatsapp"]
        });
    </script>
    
</div>

<div class="container has-text-centered">
  
</div>
<section class="section">
  <div class="container has-text-centered">
    <p>&copy; <a href="https://github.com/ge-chunyu">Chunyu Ge</a> 2019-2020</p>
  </div>
</section>


