<!DOCTYPE html>
<html
  lang="en"
  dir="ltr"
  
><meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">


<title>《漢書·律曆志》筆記（4）：統術（附歲術） | Chunyu Ge</title>

<meta name="generator" content="Hugo Eureka 0.9.3" />
<link rel="stylesheet" href="https://ge-chunyu.github.io/css/eureka.min.32d70ba04f91fcec7c01f11769a78906339624d1a754a4dc6fa4558f7b0bee09bb18c5ebb60845cafbe6f9a185b209fe.css">
<script defer src="https://ge-chunyu.github.io/js/eureka.min.fa9a6bf6d7a50bb635b4cca7d2ba5cf3dfb095ae3798773f1328f7950028b48c17d06276594e1b5f244a25a6c969a705.js"></script>













<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link rel="preload"
  href="https://fonts.googleapis.com/css2?family=Lora:wght@400;600;700&amp;family=Noto&#43;Serif&#43;SC:wght@400;600;700&amp;display=swap"
  as="style" onload="this.onload=null;this.rel='stylesheet'">



<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.4.0/build/styles/base16/solarized-light.min.css"
   media="print"
  onload="this.media='all';this.onload=null" crossorigin>
<script defer src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.4.0/build/highlight.min.js"
   crossorigin></script>
<link rel="stylesheet" href="https://ge-chunyu.github.io/css/highlightjs.min.2958991528e43eb6fc9b8c4f2b8e052f79c4010718e1d1e888a777620e9ee63021c2c57ec7417a3108019bb8c41943e6.css" media="print" onload="this.media='all';this.onload=null">


<script defer type="text/javascript" src="https://ge-chunyu.github.io/js/fontawesome.min.78e494ccd35d494929874dc88a1c7963e597460caafa2ea0b64b9f5cd2ed626a7348522a90f0b37886181ab1ed34301f.js"></script>


<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/katex.min.css"
   integrity="sha384-MlJdn/WNKDGXveldHDdyRP1R4CTHr3FeuDNfhsLPYrq2t0UBkUdK2jyTnXPEK1NQ"  media="print"
  onload="this.media='all';this.onload=null" crossorigin>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/katex.min.js" 
  integrity="sha384-VQ8d8WVFw0yHhCk5E8I86oOhv48xLpnDZx5T9GogA/Y84DcCKWXDmSDfn13bzFZY"  crossorigin></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/contrib/auto-render.min.js"
   integrity="sha384-&#43;XBljXPPiv&#43;OzfbB3cVmLHf4hdUFHlWNZN5spNQ7rmHTXpd7WvJum6fIACpNNfIR"  crossorigin></script>
<script>
  document.addEventListener("DOMContentLoaded", function () {
    renderMathInElement(document.body, {
      delimiters: [
        { left: "$$", right: "$$", display: true },
        { left: "$", right: "$", display: false },
        { left: "\\(", right: "\\)", display: false },
        { left: "\\[", right: "\\]", display: true }
      ],
    });
  });
</script>




      <script async src="https://www.googletagmanager.com/gtag/js?id=G-SKHKESHBC1"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-SKHKESHBC1');
        }
      </script>





<meta name="description"
  content="統術是三統曆的基本曆法計算方法，可以用來計算一年在三統中的位置，該年天正月朔日的干支名稱（也就是日名）、冬至日和其他所有節氣的日名，以及本年是否需要置閏和在哪一個月置閏。除此之外，統術還包括計算天正月朔日日月所在星度、月食時刻等方法。三統曆以建子月，也就是夏正十一月爲曆法的起始，也是每年的第一個月，稱之爲天正。《律曆志》說：">
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [{
      "@type": "ListItem",
      "position": 1 ,
      "name":"Posts",
      "item":"https://ge-chunyu.github.io/posts/"},{
      "@type": "ListItem",
      "position": 2 ,
      "name":"《漢書·律曆志》筆記（4）：統術（附歲術）",
      "item":"https://ge-chunyu.github.io/posts/2025-12-lvlizhi4/"}]
}
</script>



<script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Article",
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "https://ge-chunyu.github.io/posts/2025-12-lvlizhi4/"
    },
    "headline": "《漢書·律曆志》筆記（4）：統術（附歲術） | Chunyu Ge","datePublished": "2025-12-27T00:00:00+00:00",
    "dateModified": "2025-12-27T00:00:00+00:00",
    "wordCount":  8490 ,
    "publisher": {
        "@type": "Person",
        "name": "Chunyu Ge",
        },
    "description": "\u003cp\u003e統術是三統曆的基本曆法計算方法，可以用來計算一年在三統中的位置，該年天正月朔日的干支名稱（也就是日名）、冬至日和其他所有節氣的日名，以及本年是否需要置閏和在哪一個月置閏。除此之外，統術還包括計算天正月朔日日月所在星度、月食時刻等方法。三統曆以建子月，也就是夏正十一月爲曆法的起始，也是每年的第一個月，稱之爲天正。《律曆志》說：\u003c\/p\u003e"
}
</script><meta property="og:title" content="《漢書·律曆志》筆記（4）：統術（附歲術） | Chunyu Ge" />
<meta property="og:type" content="article" />



<meta property="og:url" content="https://ge-chunyu.github.io/posts/2025-12-lvlizhi4/" />




<meta property="og:description" content="統術是三統曆的基本曆法計算方法，可以用來計算一年在三統中的位置，該年天正月朔日的干支名稱（也就是日名）、冬至日和其他所有節氣的日名，以及本年是否需要置閏和在哪一個月置閏。除此之外，統術還包括計算天正月朔日日月所在星度、月食時刻等方法。三統曆以建子月，也就是夏正十一月爲曆法的起始，也是每年的第一個月，稱之爲天正。《律曆志》說：" />




<meta property="og:locale" content="en" />




<meta property="og:site_name" content="Chunyu Ge" />






<meta property="article:published_time" content="2025-12-27T00:00:00&#43;00:00" />


<meta property="article:modified_time" content="2025-12-27T00:00:00&#43;00:00" />



<meta property="article:section" content="posts" />





  <body class="flex min-h-screen flex-col">
    <header
      class="min-h-16 pl-scrollbar bg-secondary-bg fixed z-50 flex w-full items-center shadow-sm"
    >
      <div class="mx-auto w-full max-w-screen-xl"><head>
  
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-SKHKESHBC1"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-SKHKESHBC1');
        }
      </script>
</head>

<script>
    let storageColorScheme = localStorage.getItem("lightDarkMode")
    if (((storageColorScheme == 'Auto' || storageColorScheme == null) && window.matchMedia("(prefers-color-scheme: dark)").matches) || storageColorScheme == "Dark") {
        document.getElementsByTagName('html')[0].classList.add('dark')
    }
</script>
<nav class="flex items-center justify-between flex-wrap p-4">
    <a href="/" class="mr-6 text-primary-text text-xl font-bold">Chunyu Ge</a>
    <button id="navbar-btn" class="md:hidden flex items-center px-3 py-2" aria-label="Open Navbar">
        <i class="fas fa-bars"></i>
    </button>

    <div id="target"
        class="hidden block md:flex md:flex-grow md:justify-between md:items-center w-full md:w-auto text-primary-text z-20">
        <div class="text-sm md:flex-grow pb-4 md:pb-0 border-b md:border-b-0">
            <a href="/homepage/"
                class="block mt-4 md:inline-block md:mt-0  hover:text-eureka mr-4"></a>
            <a href="/posts/"
                class="block mt-4 md:inline-block md:mt-0  text-eureka  hover:text-eureka mr-4">Posts</a>
            <a href="/cv/"
                class="block mt-4 md:inline-block md:mt-0  hover:text-eureka mr-4">CV</a>
            <a href="/about/"
                class="block mt-4 md:inline-block md:mt-0  hover:text-eureka mr-4">About</a>
            <a href="/archive"
                class="block mt-4 md:inline-block md:mt-0  hover:text-eureka mr-4">Archive</a>
        </div>

        <div class="flex">
            <div class="relative pt-4 md:pt-0">
                <div class="cursor-pointer hover:text-eureka" id="lightDarkMode">
                    <i class="fas fa-adjust"></i>
                </div>
                <div class="fixed hidden inset-0 opacity-0 h-full w-full cursor-default z-30" id="is-open">
                </div>
                <div class="absolute flex flex-col left-0 md:left-auto right-auto md:right-0 hidden bg-secondary-bg w-48 rounded py-2 border border-tertiary-bg cursor-pointer z-40"
                    id='lightDarkOptions'>
                    <span class="px-4 py-1 hover:text-eureka">Light</span>
                    <span class="px-4 py-1 hover:text-eureka">Dark</span>
                    <span class="px-4 py-1 hover:text-eureka">Auto</span>
                </div>
            </div>
        </div>
    </div>

    <div class="fixed hidden inset-0 opacity-0 h-full w-full cursor-default z-0" id="is-open-mobile">
    </div>

</nav>
<script>
    let element = document.getElementById('lightDarkMode')
    if (storageColorScheme == null || storageColorScheme == 'Auto') {
        document.addEventListener('DOMContentLoaded', () => {
            switchMode('Auto')
        })
    } else if (storageColorScheme == "Light") {
        element.firstElementChild.classList.remove('fa-adjust')
        element.firstElementChild.setAttribute("data-icon", 'sun')
        element.firstElementChild.classList.add('fa-sun')
    } else if (storageColorScheme == "Dark") {
        element.firstElementChild.classList.remove('fa-adjust')
        element.firstElementChild.setAttribute("data-icon", 'moon')
        element.firstElementChild.classList.add('fa-moon')
    }
    
    document.addEventListener('DOMContentLoaded', () => {
        getcolorscheme();
        switchBurger();
    });
</script></div>
    </header>
    <main class="grow pt-16">
        <div class="pl-scrollbar">
          <div class="mx-auto w-full max-w-screen-xl lg:px-4 xl:px-8">
  
  
  <div class="grid grid-cols-2 gap-4 lg:grid-cols-8 lg:pt-12">
    <div
      class="lg:col-start-2 bg-secondary-bg col-span-2 rounded px-6 py-8 lg:col-span-6"
    >
      <article class="prose">
  <h1 class="mb-4">《漢書·律曆志》筆記（4）：統術（附歲術）</h1>

  <div
  class="text-tertiary-text not-prose mt-2 flex flex-row flex-wrap items-center"
>
  <div class="me-6 my-2">
    <i class="fas fa-calendar me-1"></i>
    <span
      >2025-12-27</span
    >
  </div>
  <div class="me-6 my-2">
    <i class="fas fa-clock me-1"></i>
    <span>17 min read</span>
  </div>

  

  
</div>


  
  

  <p>統術是三統曆的基本曆法計算方法，可以用來計算一年在三統中的位置，該年天正月朔日的干支名稱（也就是日名）、冬至日和其他所有節氣的日名，以及本年是否需要置閏和在哪一個月置閏。除此之外，統術還包括計算天正月朔日日月所在星度、月食時刻等方法。三統曆以建子月，也就是夏正十一月爲曆法的起始，也是每年的第一個月，稱之爲天正。《律曆志》說：</p>
<blockquote>
<p>其於三正也，黃鐘子為天正，林鐘未之衝丑為地正，太族寅為人正。</p>
</blockquote>
<p>天正建子，以夏正十一月爲正月；地正建丑，以夏正十二月爲正月；人正建寅，以夏正正月爲正月。所以地正比天正晚一個月，人正比天正晚兩個月。但是除了在推天正、地正、人正中，一般都只以天正建子、夏正十一月爲一年的第一個月。所謂朔日，就是建子月的第一天。求閏月，也是從建子月開始。例如上一部分所舉的十九年一章中的第三年有閏九月，這個閏九月是從建子月，也就是夏正十一月開始數的。</p>
<p>統術各部分其實都是以已知數推求未知數的題目；所用數據有兩項，一項是常數，也就是統母中所列的數據，另一項是已知數，也就是由統術其他部分得出的結果。最基本的已知數其實只有一個數值，就是所求年距太極上元的年數，其他已知數都可以從該數求出。下表列出統術各項計算所用常數（統母）、已知數與所求數。其中太極上元以來年數爲 $x$，入統歲數爲 $n$。</p>
<table>
  <thead>
      <tr>
          <th style="text-align: left">統術</th>
          <th style="text-align: left">所用常數</th>
          <th style="text-align: left">已知數</th>
          <th style="text-align: left">所求數</th>
          <th style="text-align: left">公式</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td style="text-align: left">推日月元統</td>
          <td style="text-align: left">元法、統法</td>
          <td style="text-align: left">太極上元以來年數</td>
          <td style="text-align: left">統數，入統歲數</td>
          <td style="text-align: left">$x \ \mathbf{mod}\ \text{元法}\ \mathbf{mod}\ \text{統法}$</td>
      </tr>
      <tr>
          <td style="text-align: left">推天正</td>
          <td style="text-align: left">章月、章歲</td>
          <td style="text-align: left">入統歲數</td>
          <td style="text-align: left">積月、閏餘</td>
          <td style="text-align: left">$\text{積月} = n \times \text{章月} \ \mathbf{div}\ \text{章歲}$\ $\text{閏餘} = n \times \text{章月} \ \mathbf{mod}\ \text{章歲}$</td>
      </tr>
      <tr>
          <td style="text-align: left">推正月朔</td>
          <td style="text-align: left">月法、日法、統首日</td>
          <td style="text-align: left">積月</td>
          <td style="text-align: left">積日、小餘、朔日干支</td>
          <td style="text-align: left">$\text{積日}=\text{積月} \times \text{月法} \ \mathbf{div}\ \text{日法}$\ $\text{積日小餘}=\text{積月} \times \text{月法} \ \mathbf{mod}\ \text{日法}$\ $\text{積日大餘}=\text{積日} \ \mathbf{mod}\ \text{60}$</td>
      </tr>
      <tr>
          <td style="text-align: left">推閏餘</td>
          <td style="text-align: left">章中</td>
          <td style="text-align: left">閏餘</td>
          <td style="text-align: left"></td>
          <td style="text-align: left">$(章中 - 12 \times 閏餘) \ \mathbf{mod}\ 7 + 1$</td>
      </tr>
      <tr>
          <td style="text-align: left">推冬至</td>
          <td style="text-align: left">策餘、統法、統首日</td>
          <td style="text-align: left">入統年</td>
          <td style="text-align: left">冬至大餘、小餘、干支</td>
          <td style="text-align: left">$大餘 = (入統年 \times 策餘) \ \mathbf{div}\ 統法$\ $小餘 = (入統年 \times 策餘) \ \mathbf{mod}\ 統法$</td>
      </tr>
      <tr>
          <td style="text-align: left">推五行</td>
          <td style="text-align: left">統法（歲）</td>
          <td style="text-align: left"></td>
          <td style="text-align: left"></td>
          <td style="text-align: left"></td>
      </tr>
      <tr>
          <td style="text-align: left">推合晨所在星</td>
          <td style="text-align: left">統法、周天</td>
          <td style="text-align: left">積日、積日小餘</td>
          <td style="text-align: left">合晨度</td>
          <td style="text-align: left"></td>
      </tr>
      <tr>
          <td style="text-align: left">推其日夜半所在星</td>
          <td style="text-align: left">章歲、統法</td>
          <td style="text-align: left">月小餘（積日小餘）、合晨度</td>
          <td style="text-align: left">日夜半星度</td>
          <td style="text-align: left"></td>
      </tr>
      <tr>
          <td style="text-align: left">推其月夜半所在星</td>
          <td style="text-align: left">月周、統法</td>
          <td style="text-align: left">月小餘（積日小餘）、合晨度</td>
          <td style="text-align: left">月夜半星度</td>
          <td style="text-align: left"></td>
      </tr>
      <tr>
          <td style="text-align: left">推諸加時</td>
          <td style="text-align: left"></td>
          <td style="text-align: left">小餘、各盈分母</td>
          <td style="text-align: left">加辰</td>
          <td style="text-align: left"></td>
      </tr>
      <tr>
          <td style="text-align: left">推月食</td>
          <td style="text-align: left"></td>
          <td style="text-align: left"></td>
          <td style="text-align: left"></td>
          <td style="text-align: left"></td>
      </tr>
  </tbody>
</table>
<p>下面這張圖展示了統術所用的已知數、統術所求的未知數，以及相互之間的關係。其中方框中的是統術的名稱，而橢圓中的是統術所用的已知數或所求的未知數。</p>
<p><img src="/img/2025-12-lvlizhi/tongshu.svg" alt=""></p>
<p>統術部分只給出最終的公式計算方法，而略過了計算原理與中間步驟，爲求明晰，下面的解釋列出所有演算步驟。</p>
<h2 id="推日月元統">推日月元統</h2>
<blockquote>
<p>推日月元統，置太極上元以來，外所求年，盈元法除之，餘不盈統者，則天統甲子以來年數也。盈統，除之，餘則地統甲辰以來年數也。又盈統，除之，餘則人統甲申以來年數也。各以其統首日為紀。</p>
</blockquote>
<p>推日月元統是通過本年距上元年數計算出本年在三統中屬於第幾元第幾統第幾年。三統曆一元 4617 年，即元法；分一元爲天統甲子、地統甲辰、人統甲申，即三統，每統 1539 年。</p>
<p>假設本年距上元年數 $x$，則：</p>
<p>本年所在元數：$$x\ \mathbf{div}\ 4617$$
本年所在統數：$$x\ \mathbf{mod}\ 4617\ \mathbf{div}\ 1539$$
本年所在統數內年數：$$x\ \mathbf{mod}\ 4617\ \mathbf{mod}\ 1539$$</p>
<p>用 python 寫出來就是：</p>
<pre><code>n % 4617 // 1539      # 本年所在統數，0 天統，1 地統，2 人統
n % 4617 % 1539       # 本年所在統數內年數
</code></pre>
<p>例如，伐紂之年距上元 142109 年，該年所在元數爲 $142109 \ \mathbf{div}\ 4617 = 30$，所在統數爲 $142109 \ \mathbf{mod}\ 4617 \ \mathbf{div}\ 1539 = 3$，也就是人統甲申；該年在人統年數爲 $142109 \ \mathbf{mod}\ 4617 \ \mathbf{mod}\ 1539 = 521$，也就是本年入人統甲申第 521 年。</p>
<h2 id="推天正地正人正">推天正、地正、人正</h2>
<blockquote>
<p>推天正，以章月乘人[入]統歲數，盈章歲得一，名曰積月，不盈者名曰閏餘。閏餘十二以上，歲有閏。求地正，加積月一；求人正，加二。</p>
</blockquote>
<p>根據入統年數計算天正、地正、人正。其實就是計算本年有沒有閏月。如果閏餘大於 12，本年就有閏月。三統曆一章 19 歲，一章總共 $19 \times 12 + 7 = 235$ 個月，每年 $235 \div 19 = \frac{235}{19} = 12 \frac{7}{19}$ 個月。假設入統年數爲 $n$，則該年積月 $n \times 12 \frac{7}{19}$，將這個數化爲帶分數，帶分數的分子部分稱之爲閏餘。如果該年閏餘大於 12，則本年需要置閏。寫成算式就是：</p>
<p>入統年數 $n$ 乘以一年月數，化爲帶分數：</p>
<p>$$
\begin{align*}
&amp;n \times \frac{235}{19}\\
=&amp; (n \times 235)\ \mathbf{div}\ 239 \frac{(n\times235)\ \mathbf{mod}\ 19}{19}
\end{align*}
$$</p>
<p>$$$$</p>
<p>寫成代碼就是：</p>
<pre><code>n * 235 // 19         # 積月
n * 235 % 19          # 閏餘
</code></pre>
<p>由於天正以建子（十一月）爲一年起點，所以如果用的是地正建丑，以十二月爲一歲起點，那積月就要加一；而人正建寅，以正月爲起點，積月要加二。</p>
<p>已知伐紂之年爲人統甲申第 521 年，則本年積月 $521 \times 235 \ \mathbf{div}\ = 6443$ 月，閏餘 $521 \times 235 \ \mathbf{mod}\ 19 = 18$，閏餘大於 12，所以本年是閏年。</p>
<h2 id="推正月朔求其次月求正月弦望">推正月朔、求其次月、求（正月）弦、望</h2>
<blockquote>
<p>推正月朔，以月法乘積月，盈日法得一，名曰積日，不盈者名曰小餘。小餘三十八以上，其月大。積日盈六十，除之，不盈者名曰大餘。數從統首日起，算外，則朔日也。<br>
求其次月，加大餘二十九，小餘四十三。小餘盈日法得一，從大餘，數除如法。求弦，加大餘七，小餘三十一。求望，倍弦。</p>
</blockquote>
<p>這一段分爲兩部分。第一部分推正月朔是由已知年數的總月數（積月）求該年天正月朔日（建子月初一）的干支名稱。積月已經在上一部分推天正求出了。積月乘以一月日數 $29 \frac{43}{81}$，將這個數化爲帶分數，帶分數的整數部分就是積日，即入統以來總共有多少天。再將積日除以干支週期數 60，用所得小餘從統首日數起就是本年正月朔日所在干支。</p>
<p>上一部分已經算出積月，即 $n \times 235 \ \mathbf{div}\ 19$，設積月爲 $j$，這裏用積月算出積日和積日小餘，再用積日除以干支週期，所得餘數就是積日大餘。</p>
<p>$$
\begin{align*}
\text{積月} \times \frac{\text{月法}}{\text{日法}} &amp;=j \times \frac{2392}{81}\\
&amp;= ((j \times 2392)\ \mathbf{div}\ 81) \frac{j \times 2392 \ \mathbf{mod}\ 81}{81}\\
&amp;= \text{積日} \frac{積日小餘}{81}\\
\text{積日大餘}&amp;=\text{積日}\ \mathbf{mod}\ 60
\end{align*}
$$</p>
<p>寫成代碼就是：</p>
<pre><code># 入統第 n 年的積日，tongshouri 爲統首日干支，天統甲子，地統甲辰，人統甲申

def tuiZhengyueshuo(n, tongshouri):
    jiri = ((n * 235 // 19)
            * 2392).numerator // 81       # 入統第 n 年積日 
    jirixiaoyu = ((n * 235)// 19
            * 2392) % 81                  # 積日小餘
    jiridayu = jiri % 60                  # 積日大餘
    # 本年朔旦干支
    shuoriGanzhi = ganzhi[ganzhi.index(tongshouri) + jiridayu]
    return jiri, jirixiaoyu, shuoriGanzhi
</code></pre>
<p>伐紂入人統甲申 521 年，該年積日 190267 日，天正月朔日爲辛卯日。</p>
<p>第二部分，求其次月。因爲推正月朔已經求出當月的積日大餘與積日小餘，所以這裏再加上一個月的月長。如果本月的積月小餘加 43 大於 81，就說明下月大，次月大餘要加一；否則次月小。</p>
<p>$$
\begin{align*}
\text{次月大餘} &amp;=\text{積日大餘} + 29 + (\text{積日小餘} + 43)\ \mathbf{div}\ 81\\
\text{次月小餘} &amp;=(\text{積日小餘} + 43)\ \mathbf{mod}\ 81
\end{align*}
$$</p>
<p>自本月朔日到上弦日，爲一月的四分之一，也就是 $29 \frac{43}{81} \div 4 = 7 \frac{31}{81}$；而朔日到望日就是一月的一半，即 $29 \frac{43}{81} \div 2 = 14 \frac{62}{81}$。要求本月的弦或望只要用本月積日大小餘分別加上相應的弦望大小餘就可以了。</p>
<p>$$
\begin{align*}
\text{弦日大餘}&amp;=\text{積日大餘} + 7\\
\text{弦日小餘}&amp;=\text{積日大餘} + 31\\
\text{望日大餘}&amp;=\text{積日大餘} + 14\\
\text{望日小餘}&amp;=\text{積日大餘} + 62
\end{align*}
$$</p>
<h2 id="推閏餘所在">推閏餘所在</h2>
<blockquote>
<p>推閏餘所在，以十二乘閏餘，加(十)[七]得一。盈章中，數所得，起冬至，算外，則中至終閏盈。中氣在朔若二日，則前月閏也。</p>
</blockquote>
<p>這一段求所求年如有閏月，當置於哪月。在推天正部分已經求出本年的閏餘 $n \times 235 \ \mathbf{mod}\ 19$，閏餘如果大於 12，本年就要置閏。但是閏月置於哪個月呢？三統曆將閏月置於無中氣之月。</p>
<p>一年有二十四個節氣，其中十二個中氣。一年的長度以月份來計算就是 $12 \frac{7}{19}$ 個月，那一個中氣平均長度就是 $12 \frac{7}{19} \div 12 = 12 \frac{7}{19 \times 12}$ 個月。也就是說，每過一個月，中氣就過 $12 \frac{7}{19 \times 12} = \frac{235}{228}$。一個月的長度當然是 1，那者一個月過了之後，就會餘下 $\frac{235}{228} - 1 = \frac{7}{228}$ 個中氣。幾個月過去，中氣比一個月長的部分不斷累積，最終就會超過一個月的長度。當中氣和月長的差距超過一月時，下個月就沒有中氣，閏月就設置在這個月。</p>
<p>上面推天正已經求出閏餘，閏餘以 19 爲分母。設閏餘爲 $u$，</p>
<p>$$
\begin{align*}
\text{一月長}&amp;=1\\
\text{一中氣長}&amp;= \text{一年月長} \div \text{一年中氣數}\\
&amp;=12 \frac{7}{19} \div 12\\
&amp;= \frac{235}{228}\\
\text{中氣長}-\text{月長}&amp;=\frac{235}{228} - 1\\
&amp;=\frac{7}{228}\\
\text{m 月之後中氣剩餘}&amp;= \frac{7m}{228}\\
\text{加上本年閏餘}\frac{u}{19}&amp;=\frac{u}{19} + \frac{7m}{228}\\
&amp;=\frac{12u + 7m}{228}\\
\text{當中氣累計剩餘超過}\ &amp;228\ \text{時：}\\
12 u + 7m &amp;\geq 228\\
\text{無中氣之月}&amp;=(228 - 12 u)\ \mathbf{div}\ 7 + 1 \text{, 如果 } 12u + 7m \gt 228\\
&amp;=(228 - 12 u)\ \mathbf{div}\ 7 \text{, 如果 } 12u + 7m = 228
\end{align*}
$$</p>
<p>注意，這裏算出來的無中氣之月是自建子月數的，如果是 2，那就是建子月之後兩個月閏月，就是建寅月閏月。前面已經說過，十九年一章中設置閏月的順序和時間都是固定的。在上一部分“三統曆算法的基本思路”中，已經列出來一章閏月的順序，這裏再列一遍：</p>
<table>
  <thead>
      <tr>
          <th>年份</th>
          <th>月份</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>第 3 年</td>
          <td>閏九月</td>
      </tr>
      <tr>
          <td>第 6 年</td>
          <td>閏六月</td>
      </tr>
      <tr>
          <td>第 9 年</td>
          <td>閏二月</td>
      </tr>
      <tr>
          <td>第 11 年</td>
          <td>閏十一月</td>
      </tr>
      <tr>
          <td>第 14 年</td>
          <td>閏七月</td>
      </tr>
      <tr>
          <td>第 17 年</td>
          <td>閏四月</td>
      </tr>
      <tr>
          <td>第 19 年</td>
          <td>閏十二月</td>
      </tr>
  </tbody>
</table>
<h2 id="推冬至八節二十四氣">推冬至、八節、二十四氣</h2>
<blockquote>
<p>推冬至，以(算)[策]餘乘(人)[入]統歲數，盈統法得一，名曰大餘，不盈者名曰小餘。除數如法，則所求冬至日也。<br>
求八節，加大餘四十五，小餘千一百。求二十四氣，三其小餘，加大餘十五，小餘千一十。<br>
推中部二十四氣，皆以元為法。</p>
</blockquote>
<p>這一段是根據入統年數求該年冬至日的干支。三統曆一年有 $365 \frac{385}{1539}$ 天，減去干支週期 60 的倍數 360，剩下 $5 \frac{385}{1539}$ 天，將這個數化爲帶分數 $\frac{8080}{1539}$，分子部分就是策餘。用策餘乘以入統歲數 $n$，以所得數除以統法，化爲帶分數，整數部分爲大餘<sup id="fnref:1"><a href="#fn:1" class="footnote-ref" role="doc-noteref">1</a></sup>，分子部分爲小餘。再算出大餘除以干支週期 60 的餘數。從入統首日干支數起，就是冬至日的干支。寫成公式就是：</p>
<p>策餘乘以入統歲數：</p>
<p>$$
\begin{align*}
\frac{\text{策餘}}{\text{統法}} \times \text{入統歲數}&amp;= \frac{8080}{1539} \times n\\
&amp;= (n \times 8080 \ \mathbf{div}\ 1539) \frac{n \times 8080 \ \mathbf{mod}\ 1539}{1539} \\
&amp;= \text{大餘} \frac{\text{小餘}}{1539}\\
\text{大餘}\ &amp;=  n \times 8080 \ \mathbf{div}\ 1539\\
\text{小餘}\ &amp;=  n \times 8080 \ \mathbf{mod}\ 1539\\
\end{align*}
$$</p>
<p>大餘除以干支週期的餘數：</p>
<p>$$\text{干支序數} = \text{大餘} \ \mathbf{mod}\ 60 + \text{入統首日干支序數}$$</p>
<p>寫成代碼就是：</p>
<pre><code>def tuiDongzhi(n, tongshouri):
    dongzhiDayu = n * 8080 // 1539
    dongzhiXiaoyu = n * 8080 % 1539
    dongzhiXushu = dongzhiDayu % 60
    dongzhiGanzhi = ganzhi[ganzhi.index(tongshouri) + dongzhiXushu]
    return dongzhiDayu, dongzhiXiaoyu, dongzhiGanzhi
</code></pre>
<p>伐紂之年入人統甲申 521 年，該年大餘爲 $521 \times 8080 \ \mathbf{div}\ 1539 = 2735$，大餘除以干支週期的餘數是 $2735 \ \mathbf{mod}\ 60 = 35$。從入統首日干支數起，甲申在干支表中的序數是 20，伐紂之年冬至干支的序數就是 $20 + 35 = 55$，也就是己未。這一年冬至是建子夏正十一月己未。</p>
<p>八節爲冬至、立春、春分、立夏、夏至、立秋、秋分、立冬。三統曆一年 $365 \frac{385}{1539}$ 日，每節平均長度爲 $365 \frac{385}{1539} \div 8 = 45 \frac{1010}{1539}$ 日。已知冬至大餘和冬至小餘，只要將它們分別加上每節長度就是八節各自的大餘和小餘。假設八節次序爲 $j$ （冬至爲 0），則第 $j$ 個八節的大餘、小餘可以用以下公式算出。</p>
<p>八節大餘：$$\text{冬至大餘} + 45 \times j$$
八節小餘：$$\text{冬至小餘} + 1010 \times j$$</p>
<p>而每個節氣的長度是 $365 \frac{385}{1539} \div 24 = 15 \frac{1010}{4617}$。假設二十四節氣次序爲 $i$ （冬至爲 0），則第 $i$ 個二十四節氣的大餘、小餘可以用以下公式算出。因爲小餘以 4617 爲分母，而上面算出的冬至小餘是以 1539 爲分母的，所以這裏要先將冬至小餘乘以 3。</p>
<p>二十四節氣大餘：$$\text{冬至大餘} + 15 \times i$$
二十四節氣小餘，以 $3 \times 1539 = 4617$ 爲分母（法）：$$\text{冬至小餘} \times 3 + 1010 \times i$$</p>
<h2 id="推五行">推五行</h2>
<blockquote>
<p>推五行，其四行各七十三日，統(歲)[法]分之七十七。中央各十八日，統法分之四百四。冬至後，中央二十七日六百六分。</p>
</blockquote>
<p>三統曆把一年的日子按照五行木、火、土、金、水分爲五個部分。但是五行所屬的日子並不是一個接着一個的，也就是說，並不是屬木的日子結束之後立馬跟着屬火的日子。三統曆是把木、火、金、水分別和春夏秋冬四季搭配，而四季當中各有一部分日子屬於土，這叫做“土王四季”。</p>
<p>一年 $365 \frac{385}{1539}$ 日，平均分爲五行，每行 $365 \frac{385}{1539} \div 5 = 73 \frac{77}{1539}$ 日；其中屬土的日子要分爲四份，分別歸入四季，因此土日每份爲 $73 \frac{77}{1539} \div 4 = 18 \frac{404}{1539}$ 日。也就是對於春夏秋冬四季，每一季的前 $73 \frac{77}{1539}$ 日屬於各自季節相對應的五行，而每一季的後 $18 \frac{404}{1539}$ 日屬於土。這樣加起來，正好是一年的日子。春夏秋冬分別從立春、立夏、立秋、立冬開始。畫成圖更好理解。</p>
<p><img src="/img/2025-12-lvlizhi/wuxing.png" alt=""></p>
<p>圖裏面，每個季節最後一段就是屬土的日子。冬季一段還標出了冬至的位置，就是圖中藍色豎線的地方。《律曆志》說“冬至後，中央二十七日六百六分”的意思是從冬至到冬季屬中央土的日子還有 $27 \frac{606}{1539}$ 日。這是因爲冬至距離立春還有小寒、大寒，加上冬至總共三個節氣，根據上一個部分，推八節的部分，三個節氣之間相距 $45 \frac{1010}{1539}$ 日，再減去冬至與立春之間中央土日 $18 \frac{404}{1539}$ 日，就是 $27 \frac{606}{1539}$ 日。</p>
<h2 id="推合晨所在星">推合晨所在星</h2>
<blockquote>
<p>推合晨所在星，置積日，以統法乘之，以十九乘小餘而并之。盈周天，除去之；不盈者，令盈統法得一度。數起牽牛，算外，則合晨所入星度也。</p>
</blockquote>
<p>這一段是求入統年天正月朔日的日月合朔所在星度。《左傳·昭公七年》伯瑕說：“日月之會是謂辰”，所以合晨度（晨通辰）就是日月合朔時刻的星度。太陽每天運行一度，一年 $365 \frac{385}{1539} = \frac{562120}{1539}$ 日，也就是太陽運行一週的度數。562120 就是以統法爲分母的周天度數。所以只要算出自統首至入統年正月朔日總共有多少天，也就是積日和積日小餘（不足一日的部分），就可以算出日月合朔時所在星度。</p>
<p>積日和積日小餘已經在推正月朔部分求出。設積日爲 $j$，積日小餘爲 $y$，周天 562120，先求不盈周天度數，這就是日月運行不足一個週期的數值。</p>
<p>$$
\begin{align*}
&amp;\text{積日} \frac{小餘}{81} \div (365 \frac{385}{1539})\\
=&amp; \frac{81 j + y}{81} \div (\frac{562120}{1539})\\
=&amp; \frac{(81j+y) \times 1539}{81 \times 562120}\\
=&amp; \frac{(81j+y) \times 19}{562120}\\
=&amp; \frac{1539j+19y}{562120}\\
=&amp; (1539j+19y) \ \mathbf{div}\ 562120)\frac{(1539j+19y) \ \mathbf{mod}\ 562120}{562120}\\
\text{不盈周天度數}=&amp;(1539j+19y) \ \mathbf{mod}\ 562120
\end{align*}
$$</p>
<p>不盈周天度數是日月運行不足一個週期的數值，但是還要求這個度數相當於一年 $365 \frac{385}{1539}$ 度數的多少度，所以要除以統法 1539。下面就是三統曆求合晨度的最終公式：</p>
<p>$$
\begin{align*}
\text{合晨度}&amp;=\text{不盈周天度數}\div 1539\\
&amp;=((1539j+19y) \ \mathbf{mod}\ 562120)\ \mathbf{div}\ 1539\frac{((1539j+19y) \ \mathbf{mod}\ 562120)\ \mathbf{mod}\ 1539}{1539}
\end{align*}
$$</p>
<p>由於三統曆的冬至點在牽牛初度，所以合晨度從牽牛初度起算。</p>
<p>寫成代碼：</p>
<pre><code>def tuiHechen(jiri, xiaoyu):
    hechendu = (jiri * 1539 + xiaoyu * 19) % 562120 // 1539 + 1
    hechenXiaoyu = (dayu * 1539 + xiaoyu * 19) % 562120 % 1539
    return hechendu, hechenXiaoyu
</code></pre>
<h2 id="推其日夜半所在星">推其日夜半所在星</h2>
<blockquote>
<p>推其日夜半所在星，以章歲乘月小餘，以減合晨度。小餘不足者，破全度。</p>
</blockquote>
<p>由於日月合朔不一定在夜半，所以求朔日夜半星度需要以合晨度（也就是日月合朔度數）減去夜半，也就是積日小餘，這裏叫做月小餘<sup id="fnref:2"><a href="#fn:2" class="footnote-ref" role="doc-noteref">2</a></sup>。合晨度和合晨度小餘上一部分已經求出。設合晨度爲 $c$，合晨度小餘爲 $z$，積日小餘爲 $y$：</p>
<p>$$
\begin{align*}
&amp;\text{合晨度} \frac{合晨度小餘}{1539} - \frac{\text{積日小餘}}{81}\\
=&amp;\text{c} \frac{z}{1539} - \frac{\text{y}\times 19}{1539}\\
=&amp;\frac{1539c + z - 19c}{1539}\\
=&amp;((1539c + z - 19c)\ \mathbf{div}\ 1539)\frac{(1539c + z - 19c)\ \mathbf{mod}\ 1539}{1539}
\end{align*}
$$</p>
<h2 id="推其月夜半所在星">推其月夜半所在星</h2>
<blockquote>
<p>推其月夜半所在星，以月周乘月小餘，盈統法得一度，以減合晨度。</p>
</blockquote>
<p>正因爲夜半並不一定是日月合朔時刻，所以日月並不一定同度，所以算了夜半太陽所在星度，還可以算夜半月亮所在星度。與上一部分求日夜半所在星一樣，只要以日月合朔星度，也就是合晨度減去夜半之後月行度數，就是夜半月亮所在的星度。</p>
<p>一章十九年，月亮有 254 個恆星月。注意，這裏的恆星月與朔望月不同。朔望月是月相變化的週期，而恆星月則是月球相對於一顆遙遠恆星的自傳週期，與地球上的恆星年相當。一章有 254 個恆星月，那每個恆星月以日爲單位的長度就是：</p>
<p>$$
\begin{align*}
&amp;\text{一章日數} \div \text{一章恆星月總數}\\
=&amp;\frac{562120}{81} \div 254\\
=&amp; \frac{562120}{81 \times 254}
\end{align*}
$$</p>
<p>周天總共 $\frac{562120}{1539}$ 度，所以月亮每日運行的度數就是：</p>
<p>$$
\begin{align*}
&amp;\text{周天度數} \div \text{一個恆星月日數}\\
=&amp; \frac{562120}{1539} \div \frac{562120}{81 \times 254}\\
=&amp; \frac{562120}{1539} \times \frac{81 \times 254}{562120}\\
=&amp; \frac{81 \times 254}{1539}\\
=&amp; \frac{254}{19}
\end{align*}
$$</p>
<p>以恆星月而言，月亮一日行 $\frac{254}{19}$ 度。所以求月亮夜半星度只要以日月合晨度數減去不足一日月行的度數，也就是積日小餘與恆星月日行度數的積，就能得到月所在星度。設積日小餘爲 $y$，夜半月亮所在星度就是：</p>
<p>$$
\begin{align*}
\text{月夜半所在星度} &amp;=\text{合晨度} \frac{合晨度小餘}{1539} - (\frac{\text{積日小餘}}{81} \times \frac{254}{19} )\\
&amp;=\text{c} \frac{z}{1539} - \frac{\text{y}\times 254}{1539}\\
&amp;=\frac{1539c + z - 254y}{1539}\\
&amp;=((1539c + z - 254y)\ \mathbf{div}\ 1539)\frac{(1539c + z - 254y)\ \mathbf{mod}\ 1539}{1539}
\end{align*}
$$</p>
<h2 id="推諸加時">推諸加時</h2>
<blockquote>
<p>推諸加時，以十二乘小餘為實，各盈分母為法，數起於子，算外，則所加辰也。</p>
</blockquote>
<p>推諸加時的意思是以小餘計算各項數值在一天中的具體時刻。積日小餘是不足一日的部分，所以可以將積日小餘轉化成十二個時辰的時刻。三統曆將一日分爲十二時，所以將小餘乘以 12，化爲帶分數，整數部分就是時，而分數部分就是分。公式是：</p>
<p>$$
\begin{align*}
\text{加時}&amp;=\frac{12 \times 小餘}{各盈分母}\\
&amp;=(12 \times 小餘 \ \mathbf{div}\ 各盈分母) \frac{12 \times 小餘 \ \mathbf{mod}\ 各盈分母}{各盈分母}
\end{align*}
$$</p>
<p>當然分數部分也能化爲六十進制的分秒。</p>
<h2 id="推月食">推月食</h2>
<blockquote>
<p>推月食，置會餘歲積月，以二十三乘之，盈百三十五，除之。不盈者，加二十三得一月，盈百三十五，數所得，起其正，算外，則食月也。加時，在望日衝辰。</p>
</blockquote>
<p>三統曆以 135 爲月食週期，135 個月會出現 23 次月食。但是一年平均 $12 \frac{7}{19} = \frac{235}{19}$ 個月，並不是 \frac{135}{23} 的整數倍。所以需要算出 月食週期與回歸年長度的最小公倍數。月食週期 135 月，一年平均 $\frac{235}{19}$ 月，135 和 235 的最小公倍數是 6345。這個最小公倍數叫做<strong>會月</strong>。一個會月是 6345 月，相當於 27 章 513 年。與會月相當的年數叫做<strong>會歲</strong>。寫成算式就是：</p>
<p>$$
\begin{align*}
\text{會月} &amp;= \mathbf{lcm}(\text{朔望之會}, \text{章月})\\
&amp;=\mathbf{lcm}(135, 235)\\
&amp;=6345\\
\text{會歲}&amp;=(6345 \div \text{章月}) \times \text{章歲}\\
&amp;=6345 \div 235 \times 19\\
&amp;=513
\end{align*}
$$</p>
<p>下一步是求會餘歲積月。本年自統首以來的積月已經在推天正部分求出了。設積月爲 $j$，$j$ 除以會月的餘數，$j \ \mathbf{mod}\ 6345$，就是會餘歲積月。因爲 135 個月有 23 次月食，所以每隔 $\frac{135}{23}$ 就有一次月食。所以根據三統曆算法的基本思路，要先算出會餘歲積月經過了幾個月食，也就是以會餘歲積月除以一個月食的週期：</p>
<p>$$
\begin{align*}
\text{會餘歲積月} &amp;=\text{積月} \ \mathbf{mod}\ \text{會歲}\\
&amp;=j \ \mathbf{mod}\ 6345\\
&amp;\text{會餘歲積月} \div \text{一個月食週期}\\
=&amp;(j \ \mathbf{mod}\ 6345) \div \frac{135}{23}\\
=&amp;(j \ \mathbf{mod}\ 6345) \times \frac{23}{135}\\
\text{食次}=&amp;((j \ \mathbf{mod}\ 6345) \times 23) \ \mathbf{div}\ 135\\
\text{次餘}=&amp;((j \ \mathbf{mod}\ 6345) \times 23) \ \mathbf{mod}\ 135\\
\end{align*}
$$</p>
<p>食次爲會餘歲期間已經發生的日食數，而次餘就是本年天正月距離下一次月食的週期。假如次餘爲 0，則本年天正月就會發生月食。 而次餘與月食週期 135 的差值再除以 23 的商加一就是月食之月：</p>
<p>$$
\begin{align*}
\text{當：次餘}+ 23 \times \text{月數} &amp;\ge 135 \text{時，自天正月數相應月數就有月食}\\
\text{月食之月}&amp;=(135-\text{次餘})\ \mathbf{div}\ 23 + 1
\end{align*}
$$</p>
<h2 id="歲術">歲術</h2>
<blockquote>
<p>推歲所在，置上元以來，外所求年，盈歲數，除去之，不盈者以百四十五乘之，以百四十四為法，如法得一，名曰積次，不盈者名曰次餘。積次盈十二，除去之，不盈者名曰定次。數從星紀起，算盡之外，則所在次也。欲知太歲，以六十除餘積次，餘不盈者，數從丙子起，算盡之外，則太歲日也。</p>
</blockquote>
<p>推歲所在就是給定某年，求木星所在星次。木星的週期大約是十二年。春秋時就有用歲星所在星次來紀年的辦法。但是木星週期實際爲 11.86 年，所以三統曆發明了超辰法來計算歲星所在星次，並用來紀年。所謂超辰法，就是每過十二個木星週期，星次要往前進一個，跳過一個星次，所以叫做超辰法。設所求年距上元 $n$ 年，不盈歲數爲 $m$。</p>
<p>$$
\begin{align*}
\text{歲星歲數}&amp;= 144 \times 12\\
&amp;=1728\\
\text{超辰}&amp;=12 + 1 =13 \\
\text{不盈歲數}&amp;=n \ \mathbf{mod}\  1728 = m\\
\text{積次} \frac{次餘}{144}&amp;= m \times \frac{145}{144}\\
&amp;=(145m \ \mathbf{div}\ 144) \frac{145n \ \mathbf{div}\ 144}{144}\\
\text{積次}&amp;=145m \ \mathbf{div}\ 144\\
\text{次餘}&amp;=145m \ \mathbf{mod}\ 144\\
\text{歲星所在星次}&amp;=\text{積次}\ \mathbf{mod}\ 12\\
&amp;=145m \ \mathbf{div}\ 144 \ \mathbf{mod}\ 12
\end{align*}
$$</p>
<p>這一段還有求太歲的辦法，就是積次除以六十的餘數，再以丙子爲起點，數出對應的干支。</p>
<p>$$\text{太歲} = \text{積次} \ \mathbf{mod}\ 60$$</p>
<div class="footnotes" role="doc-endnotes">
<hr>
<ol>
<li id="fn:1">
<p>這樣算出的冬至大餘並不能直接對應干支表中的序號，還需要加上統首日的干支序數。《〈漢書·律曆志〉研究》中將這樣算出來的冬至大餘再加統首日干支序數作爲冬至大餘，所以地統冬至大餘比這裏求出來的大 40 （地統甲辰干支序數 40），人統冬至大餘大 20 （人統甲申干支序數 20）。&#160;<a href="#fnref:1" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
<li id="fn:2">
<p>原因應該是這裏的積日小餘是根據積月算出來的，以 81 爲分母，而合晨度的分母是 1539，所以二者相減的時候，需要先通分：$81 \times 19 = 1539$，而積日小餘也要乘以章歲 19。&#160;<a href="#fnref:2" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
</ol>
</div>

</article>


      

      



      

      
  <div
    class="-mx-2 mt-4 flex flex-col border-t px-2 pt-4 md:flex-row md:justify-between"
  >
    <div>
      
        <span class="text-primary-text block font-bold"
          >Previous</span
        >
        <a href="https://ge-chunyu.github.io/posts/2025-12-lvlizhi5/" class="block">《漢書·律曆志》筆記（5）：紀術</a>
      
    </div>
    <div class="mt-4 md:mt-0 md:text-right">
      
        <span class="text-primary-text block font-bold">Next</span>
        <a href="https://ge-chunyu.github.io/posts/2025-12-lvlizhi3/" class="block">《漢書·律曆志》筆記（3）：三統曆算法的基本思路</a>
      
    </div>
  </div>


      



    </div>
    

    
    
  </div>

  
    <script>
      document.addEventListener("DOMContentLoaded", () => {
        hljs.highlightAll();
      });
    </script>

          </div>
        </div>
      
    </main>
    <footer class="pl-scrollbar">
      <div class="mx-auto w-full max-w-screen-xl"><div class="text-center p-6 pin-b">
    <p class="text-sm text-tertiary-text">&copy; <a href="https://github.com/ge-chunyu">Chunyu Ge</a> 2019-2026 &middot;  Powered by the <a href="https://github.com/wangchucheng/hugo-eureka" class="hover:text-eureka">Eureka</a> theme for <a href="https://gohugo.io" class="hover:text-eureka">Hugo</a></p>
</div></div>
    </footer>
  </body>
</html>
