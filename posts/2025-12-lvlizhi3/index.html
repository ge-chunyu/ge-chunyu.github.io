<!DOCTYPE html>
<html
  lang="en"
  dir="ltr"
  
><meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">


<title>《漢書·律曆志》筆記（3）：三統曆算法的基本思路 | Chunyu Ge</title>

<meta name="generator" content="Hugo Eureka 0.9.3" />
<link rel="stylesheet" href="https://ge-chunyu.github.io/css/eureka.min.32d70ba04f91fcec7c01f11769a78906339624d1a754a4dc6fa4558f7b0bee09bb18c5ebb60845cafbe6f9a185b209fe.css">
<script defer src="https://ge-chunyu.github.io/js/eureka.min.fa9a6bf6d7a50bb635b4cca7d2ba5cf3dfb095ae3798773f1328f7950028b48c17d06276594e1b5f244a25a6c969a705.js"></script>













<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link rel="preload"
  href="https://fonts.googleapis.com/css2?family=Lora:wght@400;600;700&amp;family=Noto&#43;Serif&#43;SC:wght@400;600;700&amp;display=swap"
  as="style" onload="this.onload=null;this.rel='stylesheet'">



<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.4.0/build/styles/nord.min.css"
   media="print"
  onload="this.media='all';this.onload=null" crossorigin>
<script defer src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.4.0/build/highlight.min.js"
   crossorigin></script>
<link rel="stylesheet" href="https://ge-chunyu.github.io/css/highlightjs.min.2958991528e43eb6fc9b8c4f2b8e052f79c4010718e1d1e888a777620e9ee63021c2c57ec7417a3108019bb8c41943e6.css" media="print" onload="this.media='all';this.onload=null">


<script defer type="text/javascript" src="https://ge-chunyu.github.io/js/fontawesome.min.78e494ccd35d494929874dc88a1c7963e597460caafa2ea0b64b9f5cd2ed626a7348522a90f0b37886181ab1ed34301f.js"></script>


<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/katex.min.css"
   integrity="sha384-MlJdn/WNKDGXveldHDdyRP1R4CTHr3FeuDNfhsLPYrq2t0UBkUdK2jyTnXPEK1NQ"  media="print"
  onload="this.media='all';this.onload=null" crossorigin>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/katex.min.js" 
  integrity="sha384-VQ8d8WVFw0yHhCk5E8I86oOhv48xLpnDZx5T9GogA/Y84DcCKWXDmSDfn13bzFZY"  crossorigin></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/contrib/auto-render.min.js"
   integrity="sha384-&#43;XBljXPPiv&#43;OzfbB3cVmLHf4hdUFHlWNZN5spNQ7rmHTXpd7WvJum6fIACpNNfIR"  crossorigin></script>
<script>
  document.addEventListener("DOMContentLoaded", function () {
    renderMathInElement(document.body, {
      delimiters: [
        { left: "$$", right: "$$", display: true },
        { left: "$", right: "$", display: false },
        { left: "\\(", right: "\\)", display: false },
        { left: "\\[", right: "\\]", display: true }
      ],
    });
  });
</script>




      <script async src="https://www.googletagmanager.com/gtag/js?id=G-SKHKESHBC1"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-SKHKESHBC1');
        }
      </script>





<meta name="description"
  content="三統曆曆法計算分爲三個部分，第一部分是年月日、節氣、月食等的計算，叫做統術；第二部分是五大行星出現的時間等的計算，叫做紀術；第三部分是推求特定年份木星所在十二次的哪一次，叫做歲術。下面先解釋三統曆算法的基本思路，之後再依次介紹統術、紀術、歲術的計算方法。">
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [{
      "@type": "ListItem",
      "position": 1 ,
      "name":"Posts",
      "item":"https://ge-chunyu.github.io/posts/"},{
      "@type": "ListItem",
      "position": 2 ,
      "name":"《漢書·律曆志》筆記（3）：三統曆算法的基本思路",
      "item":"https://ge-chunyu.github.io/posts/2025-12-lvlizhi3/"}]
}
</script>



<script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Article",
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "https://ge-chunyu.github.io/posts/2025-12-lvlizhi3/"
    },
    "headline": "《漢書·律曆志》筆記（3）：三統曆算法的基本思路 | Chunyu Ge","datePublished": "2025-12-26T00:00:00+00:00",
    "dateModified": "2025-12-26T00:00:00+00:00",
    "wordCount":  1910 ,
    "publisher": {
        "@type": "Person",
        "name": "Chunyu Ge",
        },
    "description": "\u003cp\u003e三統曆曆法計算分爲三個部分，第一部分是年月日、節氣、月食等的計算，叫做統術；第二部分是五大行星出現的時間等的計算，叫做紀術；第三部分是推求特定年份木星所在十二次的哪一次，叫做歲術。下面先解釋三統曆算法的基本思路，之後再依次介紹統術、紀術、歲術的計算方法。\u003c\/p\u003e"
}
</script><meta property="og:title" content="《漢書·律曆志》筆記（3）：三統曆算法的基本思路 | Chunyu Ge" />
<meta property="og:type" content="article" />



<meta property="og:url" content="https://ge-chunyu.github.io/posts/2025-12-lvlizhi3/" />




<meta property="og:description" content="三統曆曆法計算分爲三個部分，第一部分是年月日、節氣、月食等的計算，叫做統術；第二部分是五大行星出現的時間等的計算，叫做紀術；第三部分是推求特定年份木星所在十二次的哪一次，叫做歲術。下面先解釋三統曆算法的基本思路，之後再依次介紹統術、紀術、歲術的計算方法。" />




<meta property="og:locale" content="en" />




<meta property="og:site_name" content="Chunyu Ge" />






<meta property="article:published_time" content="2025-12-26T00:00:00&#43;00:00" />


<meta property="article:modified_time" content="2025-12-26T00:00:00&#43;00:00" />



<meta property="article:section" content="posts" />





  <body class="flex min-h-screen flex-col">
    <header
      class="min-h-16 pl-scrollbar bg-secondary-bg fixed z-50 flex w-full items-center shadow-sm"
    >
      <div class="mx-auto w-full max-w-screen-xl"><head>
  
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-SKHKESHBC1"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-SKHKESHBC1');
        }
      </script>
</head>

<script>
    let storageColorScheme = localStorage.getItem("lightDarkMode")
    if (((storageColorScheme == 'Auto' || storageColorScheme == null) && window.matchMedia("(prefers-color-scheme: dark)").matches) || storageColorScheme == "Dark") {
        document.getElementsByTagName('html')[0].classList.add('dark')
    }
</script>
<nav class="flex items-center justify-between flex-wrap p-4">
    <a href="/" class="mr-6 text-primary-text text-xl font-bold">Chunyu Ge</a>
    <button id="navbar-btn" class="md:hidden flex items-center px-3 py-2" aria-label="Open Navbar">
        <i class="fas fa-bars"></i>
    </button>

    <div id="target"
        class="hidden block md:flex md:flex-grow md:justify-between md:items-center w-full md:w-auto text-primary-text z-20">
        <div class="text-sm md:flex-grow pb-4 md:pb-0 border-b md:border-b-0">
            <a href="/homepage/"
                class="block mt-4 md:inline-block md:mt-0  hover:text-eureka mr-4"></a>
            <a href="/posts/"
                class="block mt-4 md:inline-block md:mt-0  text-eureka  hover:text-eureka mr-4">Posts</a>
            <a href="/cv/"
                class="block mt-4 md:inline-block md:mt-0  hover:text-eureka mr-4">CV</a>
            <a href="/about/"
                class="block mt-4 md:inline-block md:mt-0  hover:text-eureka mr-4">About</a>
            <a href="/archive"
                class="block mt-4 md:inline-block md:mt-0  hover:text-eureka mr-4">Archive</a>
        </div>

        <div class="flex">
            <div class="relative pt-4 md:pt-0">
                <div class="cursor-pointer hover:text-eureka" id="lightDarkMode">
                    <i class="fas fa-adjust"></i>
                </div>
                <div class="fixed hidden inset-0 opacity-0 h-full w-full cursor-default z-30" id="is-open">
                </div>
                <div class="absolute flex flex-col left-0 md:left-auto right-auto md:right-0 hidden bg-secondary-bg w-48 rounded py-2 border border-tertiary-bg cursor-pointer z-40"
                    id='lightDarkOptions'>
                    <span class="px-4 py-1 hover:text-eureka">Light</span>
                    <span class="px-4 py-1 hover:text-eureka">Dark</span>
                    <span class="px-4 py-1 hover:text-eureka">Auto</span>
                </div>
            </div>
        </div>
    </div>

    <div class="fixed hidden inset-0 opacity-0 h-full w-full cursor-default z-0" id="is-open-mobile">
    </div>

</nav>
<script>
    let element = document.getElementById('lightDarkMode')
    if (storageColorScheme == null || storageColorScheme == 'Auto') {
        document.addEventListener('DOMContentLoaded', () => {
            switchMode('Auto')
        })
    } else if (storageColorScheme == "Light") {
        element.firstElementChild.classList.remove('fa-adjust')
        element.firstElementChild.setAttribute("data-icon", 'sun')
        element.firstElementChild.classList.add('fa-sun')
    } else if (storageColorScheme == "Dark") {
        element.firstElementChild.classList.remove('fa-adjust')
        element.firstElementChild.setAttribute("data-icon", 'moon')
        element.firstElementChild.classList.add('fa-moon')
    }
    
    document.addEventListener('DOMContentLoaded', () => {
        getcolorscheme();
        switchBurger();
    });
</script></div>
    </header>
    <main class="grow pt-16">
        <div class="pl-scrollbar">
          <div class="mx-auto w-full max-w-screen-xl lg:px-4 xl:px-8">
  
  
  <div class="grid grid-cols-2 gap-4 lg:grid-cols-8 lg:pt-12">
    <div
      class="lg:col-start-2 bg-secondary-bg col-span-2 rounded px-6 py-8 lg:col-span-6"
    >
      <article class="prose">
  <h1 class="mb-4">《漢書·律曆志》筆記（3）：三統曆算法的基本思路</h1>

  <div
  class="text-tertiary-text not-prose mt-2 flex flex-row flex-wrap items-center"
>
  <div class="me-6 my-2">
    <i class="fas fa-calendar me-1"></i>
    <span
      >2025-12-26</span
    >
  </div>
  <div class="me-6 my-2">
    <i class="fas fa-clock me-1"></i>
    <span>4 min read</span>
  </div>

  

  
</div>


  
  

  <p>三統曆曆法計算分爲三個部分，第一部分是年月日、節氣、月食等的計算，叫做統術；第二部分是五大行星出現的時間等的計算，叫做紀術；第三部分是推求特定年份木星所在十二次的哪一次，叫做歲術。下面先解釋三統曆算法的基本思路，之後再依次介紹統術、紀術、歲術的計算方法。</p>
<p>上一個部分介紹了很多三統曆所用的週期、時間單位長度等等，這些對三統曆的曆法計算都很重要。三統曆對年月日以及月食、五星運行的計算都有一個基本的思路。</p>
<p>首先，假設一個定點，在這一點冬至出現在天正月朔日夜半，五星、日月都在同一個位置，也就是之前介紹的太極上元。這個定點就是所有事件（包括年月日、日月、五星運行）的起點。所有的推算都是以太極上元爲起點來計算的。</p>
<p>其次，所有的天文和曆法事件都有一個週期。在一個週期與另一個週期之內，同一個天文或曆法事件在週期內以相同的順序和時間發生。例如，前面說過，朔望月和回歸年有一個大約十九年，也就是 235 個月的週期。在十九年的週期之中，有七個閏月。十九年中的第一個閏月必定設置在第三年的九月之後，也就是閏九月。假設過了十九年之後，第二個週期開始，在第 22 年（第二個週期的第三年 $22=19 + 3$），也必然是閏九月。</p>
<p>基於這種思路，假設已經知道一個特定年份距離太極上元，也就是週期開始時的距離（三統曆叫做“距上元年數”），只要先除去已經過去的年份中所有完整的週期數，餘下的數就是該年份在一個週期中的所在的位置。例如，在計算一個特定年份有沒有閏月、閏月是哪個月時，假設已經知道本年距離上元 $22$ 年，在這 22 年中，有一個朔望月和回歸年的十九年週期，那本年就處在第二個的週期的第三年（$3 = 22 - 19 \times 1$）。</p>
<p>最後，根據給定年份在一個週期中的位置，與特定天文或曆法事件進行計算，就可以知道當年是否會發生這一天文或曆法事件，以及如果該事件發生，該事件發生的時間。例如，本年距上元 $22$ 年，在一個週期中處在第三年，根據十九年七閏，以及閏月必定在沒有中氣的月份的原則（這些已經在第一部分“中國傳統曆法的特點”中解釋過了），就可以確定本年有閏月，而且是閏九月。</p>
<p>總結一下，三統曆的計算大概有以下四步：</p>
<ol>
<li>給定一個年份距太極上元的年數 $n$</li>
<li>已知某個事件的週期爲 $p$</li>
<li>從太極上元到本年已經經過的週期數爲 $n \ \mathbf{div}\ p$，也就是 $n$ 除以 $p$ 的商。假如這個數字的單位是日，它就叫做“積日”；如果是月，就叫做“積月”，意思是該事件累積的週期數。而本年在本週期內的位置就是 $n \ \mathbf{mod}\ p$，就是 $n$ 除以 $p$ 的餘數。這個餘數叫做“小餘”。</li>
<li>根據本年在本週期之內的位置 $n \ \mathbf{mod}\ p$，對照特定事件在一個週期內發生的順序，就可以知道本年該事件是否發生，以及如果發生，這一事件的發生時間。</li>
</ol>
<p>還是以閏月爲例，假設一個特定年份距太極上元 $n$ 年，朔望月和回歸年的週期是 $p = 19$，計算過程就是：</p>
<p>$$
\begin{align*}
n \div p&amp; = \frac{n}{p}\\
&amp; = n \ \mathbf{div}\ p \frac{n \ \mathbf{mod}\ p}{p}\\
&amp; = n \ \mathbf{div}\ 19 \frac{n \ \mathbf{mod}\ 19}{19}\\
\text{到 n 年總共有幾個 19 年的週期}&amp;= n \ \mathbf{div}\ 19\\
\text{第 n 年在 19 年的週期中的位置}&amp;= n \ \mathbf{mod}\ 19\\
\end{align*}
$$</p>
<p>知道了第 $n$ 年在 19 年的週期中的位置 $n \ \mathbf{mod}\ 19$，只要對照十九年的週期中設置閏月的順序和時間，就可以知道這一年有沒有閏月，以及閏月在哪一個月了。下面的表格就是十九年的週期中有閏月的年份，和閏月的月份。</p>
<table>
  <thead>
      <tr>
          <th>年份</th>
          <th>月份</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>第 3 年</td>
          <td>閏九月</td>
      </tr>
      <tr>
          <td>第 6 年</td>
          <td>閏六月</td>
      </tr>
      <tr>
          <td>第 9 年</td>
          <td>閏二月</td>
      </tr>
      <tr>
          <td>第 11 年</td>
          <td>閏十一月</td>
      </tr>
      <tr>
          <td>第 14 年</td>
          <td>閏七月</td>
      </tr>
      <tr>
          <td>第 17 年</td>
          <td>閏四月</td>
      </tr>
      <tr>
          <td>第 19 年</td>
          <td>閏十二月</td>
      </tr>
  </tbody>
</table>
<p>將第 $n$ 年在 19 年的週期中的位置 $n \ \mathbf{mod}\ 19$與年份對照，如果這個數字是有閏月的年份，就知道這一年閏月的哪個月份。</p>
<p>三統曆對其他事件的計算都遵循相同的思路。假如一個事件在一個週期內發生的時間間隔是一樣的，例如一年二十四個節氣，每個節氣都是 $365 \frac{385}{1539} \div 24 = 15 \frac{8080}{1539 \times 24} = 15 \frac{1010}{4617}$。假如我們知道這一年冬至發生在 $j \frac{x}{1539}$ 日，那只要加上一個節氣的時間，就可以算出下一個節氣發生的時間，也就是：</p>
<p>$$
\begin{align*}
&amp;j \frac{x}{1539} + 15 \frac{1010}{4617}\\
=&amp;j \frac{3x}{4617} + 15 \frac{1010}{4617}\\
=&amp;(j + 15) \frac{3x + 1010}{4617}
\end{align*}
$$</p>
<p>如果 $3x + 1010 \gt 4617$，那只要將這個數字化爲帶分數就可以知道下一個節氣發生的具體時刻了。三統曆對於節氣、中氣、五星後見的計算，都是基於這個思路的。</p>
<p>所以，要求某項事件是否發生和發生時間，只要知道三項數據就可以了：</p>
<ol>
<li>本年距上元年數；</li>
<li>該事件的週期。這些週期數都已經列在統母、紀母中了；</li>
<li>該事件在一個週期內的發生順序。有的事件是勻速發生的（節氣、中氣等），有的事件不是（閏月）。</li>
</ol>
<p>但是要說明的是，太極上元是日月和五星運行的共同週期，在計算五星週期時，必須要用到太極上元。因爲五星會合週期大於日月會合週期 $138240 \gt 4617$ 。但是對於年月日的計算，只要知道特定年份在一元或一統之中的位置就可以了（元法 4617，統法 1539）。這也就是爲什麼統術第一項計算的就是距上元某年在哪一統哪一年的緣故。</p>

</article>


      

      



      

      
  <div
    class="-mx-2 mt-4 flex flex-col border-t px-2 pt-4 md:flex-row md:justify-between"
  >
    <div>
      
        <span class="text-primary-text block font-bold"
          >Previous</span
        >
        <a href="https://ge-chunyu.github.io/posts/2025-12-lvlizhi4/" class="block">《漢書·律曆志》筆記（4）：統術（附歲術）</a>
      
    </div>
    <div class="mt-4 md:mt-0 md:text-right">
      
        <span class="text-primary-text block font-bold">Next</span>
        <a href="https://ge-chunyu.github.io/posts/2025-12-lvlizhi2/" class="block">《漢書·律曆志》筆記（2）:表格與常數</a>
      
    </div>
  </div>


      



    </div>
    

    
    
  </div>

  
    <script>
      document.addEventListener("DOMContentLoaded", () => {
        hljs.highlightAll();
      });
    </script>

          </div>
        </div>
      
    </main>
    <footer class="pl-scrollbar">
      <div class="mx-auto w-full max-w-screen-xl"><div class="text-center p-6 pin-b">
    <p class="text-sm text-tertiary-text">&copy; <a href="https://github.com/ge-chunyu">Chunyu Ge</a> 2019-2026 &middot;  Powered by the <a href="https://github.com/wangchucheng/hugo-eureka" class="hover:text-eureka">Eureka</a> theme for <a href="https://gohugo.io" class="hover:text-eureka">Hugo</a></p>
</div></div>
    </footer>
  </body>
</html>
